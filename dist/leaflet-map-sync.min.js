!function(t,a,n,e){"use strict";var s=t.divIcon({className:"map-sync-cursor-icon",size:[20,20]}),i=0;t.MapSync=t.Class.extend({options:{ratio:1.5,allowRotate:!0,markerDim:20},initialize:function(a){t.setOptions(this,a),this.list=[],this.lastMouseEvent={}},add:function(a,n){a.NIELS=i++,n=t.Util.extend(n||{},{}),this.list.push(a),this.masterMap=this.masterMap?this.masterMap:a,a!=this.masterMap&&a.setView(this.masterMap.getCenter(),this.masterMap.getZoom(),{animate:!1,reset:!0}),a.mapSync=this,a.mapSync_cursorMarker=t.marker(a.getCenter(),{icon:s}).addTo(a),a._panes.cursorPane=a._createPane("leaflet-cursor-pane"),a._panes.markerPane.removeChild(a.mapSync_cursorMarker._icon),a._panes.cursorPane.appendChild(a.mapSync_cursorMarker._icon),a.on("mouseover",function(){t.DomUtil.addClass(this.getContainer(),"map-sync-active"),this.mapSync&&(this.mapSync._removeClassFromSibling("map-sync-active",this),this.mapSync._addClassToSibling("map-sync-passive",this))}),a.on("mouseout",function(){this.mapSync._removeClassFromSibling("map-sync-active"),this.mapSync._removeClassFromSibling("map-sync-passive")}),a.on("mousemove",function(t){this.mapSync._updateMouse(t)}),a.on("zoomend",function(){this.mapSync._updateView(this)}),t.extend(a,{setView:function(){return this.mapSync._forEachMap(function(a,n){t.Map.prototype.setView.apply(a,n)},arguments),this},panBy:function(){return this.mapSync._forEachMap(function(a,n){t.Map.prototype.panBy.apply(a,n)},arguments),this},_onResize:function(){return this.mapSync._forEachMap(function(a,n){t.Map.prototype._onResize.apply(a,n)},arguments),this}}),a.dragging._draggable._updatePosition=function(){t.Draggable.prototype._updatePosition.call(this),a.mapSync._forEachMap(function(a,n){t.DomUtil.setPosition(a.dragging._draggable._element,n._newPos),a.fire("moveend")},this,a)}},_forEachMap:function(t,a,n){var s,i,o;for(s=0;s<this.list.length;s++)i=this.list[s],i!=n&&(o=[i],t.apply(e,o.concat(a)))},_addClassToSibling:function(a,n){this._forEachMap(function(a,n){t.DomUtil.addClass(a.getContainer(),n)},[a],n)},_removeClassFromSibling:function(a,n){this._forEachMap(function(a,n){t.DomUtil.removeClass(a.getContainer(),n)},[a],n)},_updateMouse:function(t){this.lastMouseEvent=t||this.lastMouseEvent,this._forEachMap(function(t){t.mapSync_cursorMarker._setPos(t.mapSync.lastMouseEvent.layerPoint)})},_updateView:function(t){this._forEachMap(function(t,a){t.setView(a.getCenter(),a.getZoom(),{animate:!1,reset:!1})},t,t)}})}(L,this,document);